{"version":3,"file":"static/js/75.7ce0d998.chunk.js","mappings":"mNACA,EAA4B,0BAA5B,EAA6D,qBAA7D,EAA0F,sBAA1F,EAAyH,uBAAzH,EAAuJ,qB,SCIxI,SAASA,IACtB,OAA4BC,EAAAA,EAAAA,UAAS,MAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAQF,EAAaG,IAAI,SACzBC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACM,KAAVJ,GAGJA,IAASK,EAAAA,EAAAA,IAAYL,GAAOM,MAAK,SAAAC,GAAK,OAAIX,EAAUW,QACnD,CAACP,IASJ,OACE,iBAAKQ,UAAWC,EAAhB,WACE,kBAAMD,UAAWC,EAAQC,SATR,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cACff,EAAgB,CAAEC,MAAOa,EAAKE,SAASf,MAAMgB,QAC7CH,EAAKI,SAKH,WACE,kBAAOC,KAAK,OAAOC,KAAK,QAAQX,UAAWC,KAC3C,mBAAQS,KAAK,SAASV,UAAWC,EAAjC,wBAIF,0BACGd,GACCA,EAAOyB,QAAQC,OAAS,GACxB1B,EAAOyB,QAAQE,KAAI,SAAAf,GAAK,OACtB,eAAmBC,UAAWC,EAA9B,UACE,SAAC,KAAD,CAAMc,GAAE,kBAAahB,EAAMiB,IAAMC,MAAO,CAAEC,KAAMxB,GAAhD,SACGK,EAAMoB,SAFFpB,EAAMiB,OAMlB7B,GAAmC,IAAzBA,EAAOiC,gBAChB,6D,0MC3CJC,EAAU,mCACVC,EAAW,+BAEV,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,uGACEC,GAAAA,CAAM,GAAD,OAAIF,EAAJ,uCAA2CD,IAAWvB,MAChE,SAAA2B,GAAQ,OAAIA,EAASC,SAFlB,kEAMA,SAAe7B,EAAtB,+CAAO,OAAP,oBAAO,WAA2Bc,GAA3B,0FACEa,GAAAA,CAAM,GAAD,OACPF,EADO,iCAC0BD,EAD1B,yBACkDV,IAC5Db,MAAK,SAAA2B,GAAQ,OAAIA,EAASC,SAHvB,kEAKA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAiCC,GAAjC,0FACEJ,GAAAA,CAAM,GAAD,OAAIF,EAAJ,kBAAsBM,EAAtB,oBAAyCP,IAAWvB,MAC9D,SAAA2B,GAAQ,OAAIA,EAASC,SAFlB,kEAMA,SAAeG,EAAtB,+CAAO,OAAP,oBAAO,WAAiCD,GAAjC,0FACEJ,GAAAA,CAAM,GAAD,OAAIF,EAAJ,kBAAsBM,EAAtB,4BAAiDP,IAAWvB,MACtE,SAAA2B,GAAQ,OAAIA,EAASC,SAFlB,kEAKA,SAAeI,EAAtB,+CAAO,OAAP,oBAAO,WAAiCF,GAAjC,0FACEJ,GAAAA,CAAM,GAAD,OAAIF,EAAJ,kBAAsBM,EAAtB,4BAAiDP,IAAWvB,MACtE,SAAA2B,GAAQ,OAAIA,EAASC,SAFlB","sources":["webpack://search-movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.js","services/moviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Movies_container__+-Cnt\",\"form\":\"Movies_form__4ow+Z\",\"input\":\"Movies_input__KrUqs\",\"button\":\"Movies_button__GcIka\",\"list\":\"Movies_list__hqYjd\"};","import { useEffect, useState } from 'react';\nimport { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport { fetchMovies } from 'services/moviesApi';\nimport s from './Movies.module.css';\n\nexport default function Movies() {\n  const [movies, setMovies] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n  const location = useLocation();\n\n  useEffect(() => {\n    if (query === '') {\n      return;\n    }\n    query && fetchMovies(query).then(movie => setMovies(movie));\n  }, [query]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    setSearchParams({ query: form.elements.query.value });\n    form.reset();\n  };\n\n  return (\n    <div className={s.container}>\n      <form className={s.form} onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"query\" className={s.input} />\n        <button type=\"submit\" className={s.button}>\n          Search\n        </button>\n      </form>\n      <ul>\n        {movies &&\n          movies.results.length > 0 &&\n          movies.results.map(movie => (\n            <li key={movie.id} className={s.list}>\n              <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n                {movie.title}\n              </Link>\n            </li>\n          ))}\n        {movies && movies.total_results === 0 && (\n          <p>No results on your search</p>\n        )}\n      </ul>\n    </div>\n  );\n}\n","import axios from 'axios';\nconst KEY_API = '024bf82d4805f650033dc69997860333';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport async function fetchPopularMovies() {\n  return axios(`${BASE_URL}/trending/movie/day?api_key=${KEY_API}`).then(\n    response => response.data\n  );\n}\n\nexport async function fetchMovies(name) {\n  return axios(\n    `${BASE_URL}/search/movie?api_key=${KEY_API}&page=1&query=${name}`\n  ).then(response => response.data);\n}\nexport async function fetchMovieDetails(movieId) {\n  return axios(`${BASE_URL}/movie/${movieId}?api_key=${KEY_API}`).then(\n    response => response.data\n  );\n}\n\nexport async function fetchMovieCredits(movieId) {\n  return axios(`${BASE_URL}/movie/${movieId}/credits?api_key=${KEY_API}`).then(\n    response => response.data\n  );\n}\nexport async function fetchMovieReviews(movieId) {\n  return axios(`${BASE_URL}/movie/${movieId}/reviews?api_key=${KEY_API}`).then(\n    response => response.data\n  );\n}\n"],"names":["Movies","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","query","get","location","useLocation","useEffect","fetchMovies","then","movie","className","s","onSubmit","e","preventDefault","form","currentTarget","elements","value","reset","type","name","results","length","map","to","id","state","from","title","total_results","KEY_API","BASE_URL","fetchPopularMovies","axios","response","data","fetchMovieDetails","movieId","fetchMovieCredits","fetchMovieReviews"],"sourceRoot":""}